{% load humanize %}
<!doctype html>
<html>
<head>
<meta charset="utf-8">

<script src="//d3plus.org/js/d3.js"></script>
<script src="//d3plus.org/js/d3plus.js"></script>
</head>
<body>
<div id="viz"></div>
[{'bin_str': '(0, 10]', 'sort_key': 0, 'value': 69699}, {'bin_str': '(10, 20]', 'sort_key': 10, 'value': 3776},
<script>
  var data = [{% for info in bin_info %}
      {"bin": "{{ info.bin_str }}", "name":"file count", "value": {{ info.count }}}{% if not forloop.last %},{% endif %}
  {% endfor %}]
  var xdata = [
    {"year": 1991, "name":"alpha", "value": 15},
    {"year": 1991, "name":"beta", "value": 10},
    {"year": 1991, "name":"gamma", "value": 5},
    {"year": 1991, "name":"delta", "value": 50},
    {"year": 1992, "name":"alpha", "value": 20},
    {"year": 1992, "name":"beta", "value": 10},
    {"year": 1992, "name":"gamma", "value": 10},
    {"year": 1992, "name":"delta", "value": 43},
    {"year": 1993, "name":"alpha", "value": 30},
    {"year": 1993, "name":"beta", "value": 40},
    {"year": 1993, "name":"gamma", "value": 20},
    {"year": 1993, "name":"delta", "value": 17},
    {"year": 1994, "name":"alpha", "value": 60},
    {"year": 1994, "name":"beta", "value": 60},
    {"year": 1994, "name":"gamma", "value": 25},
    {"year": 1994, "name":"delta", "value": 32}
  ]
  var visualization = d3plus.viz()
    .container("#viz")
    .data(data)
    .type("bar")
    .id("name")
    .x("bin")
    .y("value")
    .order({
        "sort": "desc",
        "value": "sort_key"
     })
     .draw()
</script>
{{ bin_info }}
</body>
</html>
